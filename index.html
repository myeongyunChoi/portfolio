<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="css/main.css">
</head>

<body>

    <div id="wrap">

        <div id="load"></div>

        <div id="open_page">
            <div class="left_page"></div>
            <div class="hook"></div>
            <div class="right_page"></div>
        </div>

        <div id="skill_wrap">
            <ul class="skill">
                <li class="about"></li>
                <li class="detail"></li>
                <li class="plus"></li>
            </ul>
        </div>

        <div id="project_wrap">
            <div class="mac">
                <div class="imgbox">
                    <div class="img_overlay">
                        <h2>PROJECT</h2>
                    </div>
                    <img src="img/mac.jpg" alt="computer">
                </div>
            </div>

        </div>

        <div id="project">
            <div class="guide"></div>
            <ul class="site_view">
                <li>
                    <h1>1</h1>
                </li>
                <li>
                    <h1>2</h1>
                </li>
                <li>
                    <h1>3</h1>
                </li>
                <li>
                    <h1>4</h4>
                </li>
                <li>
                    <h1>5</h1>
                </li>
            </ul>
        </div>

        <div id="mail"></div>

    </div>

    <script src="js/main.js"></script>
    <script src="js/main_scroll.js"></script>
    <script src="js/hover.js"></script>

    <script>

        const open_page = document.getElementById("open_page");
        const page_piece = document.querySelectorAll("#open_page div");
        const left_piece = document.querySelector(".left_page");
        const hook = document.querySelector(".hook");
        const right_piece = document.querySelector(".right_page");

        open_page.addEventListener("wheel", function (e) {

            if (win_top == 0) {
                e.preventDefault();
            }

            if (e.deltaY > 0) {
                hook.style.transform = `translateY(-100%)`;

                setTimeout(function () {
                    left_piece.style.transform = `translatex(-100%)`;
                    right_piece.style.transform = `translatex(100%)`;

                    setTimeout(function () {
                        open_page.style.display = `none`;
                    }, 1500)
                }, 1000)
            }
        });


        const skill_wrap = document.getElementById("skill_wrap");
        const skill_wrap_wid = skill_wrap.clientWidth;
        const skill = document.querySelector(".skill");
        const skill_wid = skill.clientWidth;
        const max_mov = (skill_wid - skill_wrap_wid) * -1
        //가로스크롤 최대값

        let win_top = window.scrollY;
        let move = 0;
        let mi_mo = 0;


        skill_wrap.addEventListener("wheel", function (e) {



            if (move > max_mov) {
                e.preventDefault();
            }

            if (window.scrollY <= 0) {
                move -= e.deltaY;
                if (move < max_mov) {
                    move = max_mov
                } else if (move > 0) {
                    move = 0
                }
                skill.style.transform = `translateX(${move}px)`
            }
        });


        //세로 스크롤 이벤트

        window.addEventListener("scroll", function () {

            const project_wrap_top = document.getElementById("skill_wrap").clientHeight;
            const img_over = document.querySelector(".img_overlay");

            let win_top = window.scrollY;
            let zoom_val = win_top - project_wrap_top;
            let amount = 0;


            if (win_top >= project_wrap_top) {
                img_over.style.background = "white";
                // zoom();
            } else {
                img_over.style = "";
            }

            // function zoom() {
            //     amount = 1+ zoom_val * 0.001;
            //     img_over.style.transform = `scale(${amount},${amount})`;

            // }
            // 부모요소 값을 지정한 후에 부모 요소를 늘리고 em으로 자식 요소의 값을 매길 것
        })




    </script>
</body>

</html>