<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="css/main.css">
</head>

<body>

    <div id="wrap">
        <div id="load"></div>
        <div id="open_page">
            <div class="left_page">
                <div class="left_txt">
                    <h1>Choi Myeong Yun</h1>
                    <h3>PORTFOLIO</h3>
                    <h4>Would You Like To Open?</h4>
                </div>
            </div>
            <div class="hook">
                <p>OPNE</p> <img src="img/open_icon.png" alt="open_icon">
            </div>
            <div class="right_page"></div>
        </div>

        <div id="skill_wrap">
            <ul class="skill">
                <li class="about">
                    <div class="about_title">
                        <h3>언제나 꿈꾸고 싶은</h3>
                        <h3>개발자 최명윤입니다.</h3>
                        <p> 2022 PORTFOLIO</p>
                    </div>
                    <div class="about_contents">
                        <h4>"프론트앤드 개발자를 꿈꾸는 저를 소개합니다"</h4>

                        <p>안녕하세요. 부족함과 미약함을 자양분으로 성장하는 최명윤입니다.</p>
                        <p>수많은 함수나 코드를 알아가고 외우는 것보다,</p>
                        <p>스스로의 부족함을 깨닫고 채우기 위해 공들였습니다.</p>
                        <p>언제나 배움의 자세를 멈추지 않고 발전하는 개발자가 제 꿈입니다.</p>
                        <p>보시기제 부족한 부분들은, 추후에 저의 자양분으로 만들어내겠습니다.</p>
                        <!-- 
                            <li><h4>Profile</h4></li>
                            <li>이름 : 최명윤 (Choi MyeongYun)</li>
                            <li>나이 : 25 (1998.08.26)</li>
                            <li>주소 : 경기도 안산시 단원구</li>
                            <li>연락처 : 01023862257</li>
                            <li>E-mail : chmy3514@naver.com</li>
                        </ul> -->
                    </div>
                </li>
                <li class="detail">
                    <div class="detail_overlay"></div>
                    <div class="active_title">
                        <h2>제가 할 수 있는 기술들입니다</h2>
                    </div>
                    <ul class="skill_box">
                        <li>
                            <div class="active">
                            </div>
                        </li>
                        <li>
                            <div class="active">
                                <img src="img/html.png" alt="html icon">
                            </div>
                        </li>
                        <li>
                            <div class="active css_icon">
                                <img src="img/css.png" alt="css icon">
                                <img src="img/sass.png" alt="scss icon">
                            </div>
                        </li>
                        <li>
                            <div class="active">
                                <img src="img/java.png" alt="js icon">
                            </div>
                        </li>
                        <li>
                            <div class="active">
                                <img src="img/jquery.png" alt="jquery">
                            </div>
                        </li>
                        <li>
                            <div class="active design">
                                <img src="img/photoshop.svg" alt="photoshop">
                                <img src="img/illustrator.svg" alt="illustrator">
                            </div>
                        </li>
                    </ul>
                    <div class="active_txt">
                        <h4 class="active_line">Visual Studio를 이용한 기본적인 코딩부터</h4>

                        <h4 class="active_line">JavaScript를 이용하고 응용합니다</h4>

                        <h4 class="active_line">디자인 작업도 가능합니다 :)</h4>
                    </div>
                </li>
                <li class="plus"></li>
            </ul>
            <a href="#" class="dm_btn white_dm"><img src="img/dm_icon.png" alt="dm_icon"> EASY <span> DM</span></a>
        </div>

        <div id="project_wrap">
            <div class="mac">
                <div class="imgbox">
                    <div class="img_overlay">
                        <h2>PROJECT</h2>
                    </div>
                    <img src="img/mac.jpg" alt="computer">
                </div>
            </div>

        </div>

        <div class="middle_line"></div>
        <div id="project">
            <div class="guide">
                <div class="site_guide">
                    <h4>What i made</h4>
                </div>
                <div class="site_detail">
                    <h2 class="site_title">INTRODUCING OUR WEBSITE!</h2>
                    <h2 class="site_title sigliel">SIGLIEL HOTEL</h2>
                    <h2 class="site_title flower">FLOWER CITY</h2>
                    <h2 class="site_title book">MILLIE BOOK SITE</h2>
                    <h2 class="site_title art">SPACE ISU</h2>
                    <h2 class="site_title guitar">Guitar Mall</h2>

                    <P class="site_name">site name</P>
                    <a href="#" class="site_more">Visit Site</a>
                    <p>여기는 사이트 설명글 5줄 이내</p>
                </div>
            </div>
            <ul class="site_view">
                <li></li>
                <li>
                    <div class="site_txt">
                        <p>Mobile Design /</p>
                        <p>Tablet Design /</p>
                        <p>Responsive Publishing /</p>
                        <p>UI Dev /</p>
                        <p>Web Dev /</p>
                    </div>
                    <div class="site_img_box">
                        <img src="img/hotel.png" alt="hotel_site">
                    </div>
                </li>
                <li>
                    <div class="site_img_box">
                        <img src="img/flower.png" alt="flower_site">
                    </div>
                    <div class="site_txt">
                        <p>Mobile Design /</p>
                        <p>Tablet Design /</p>
                        <p>Responsive Publishing /</p>
                        <p>UI Dev /</p>
                        <p>Web Dev /</p>
                    </div>
                </li>
                <li>
                    <div class="site_txt">
                        <p>UI Dev /</p>
                        <p>Web Dev /</p>
                        <p>Ajax /</p>
                        <p>Open Api</p>
                    </div>
                    <div class="site_img_box">
                        <img src="img/book.png" alt="book_site">
                    </div>
                </li>
                <li>
                    <div class="site_img_box">
                        <img src="img/space.png" alt="art_site">
                    </div>
                    <div class="site_txt">
                        <p>Mobile Design /</p>
                        <p>Tablet Design /</p>
                        <p>Responsive Publishing /</p>
                        <p>UI Dev /</p>
                        <p>Web Dev /</p>
                    </div>
                </li>
                <li>
                    <div class="site_txt">
                        <p>UI Dev /</p>
                        <p>Web Dev /</p>
                    </div>
                    <div class="site_img_box">
                        <img src="img/guitar.png" alt="guitar_site">
                    </div>
                </li>
            </ul>
        </div>

        <div id="mail"></div>

    </div>

    <script src="js/main.js"></script>
    <script src="js/main_scroll.js"></script>
    <script src="js/hover.js"></script>

    <script>

        const open_page = document.getElementById("open_page");
        const page_piece = document.querySelectorAll("#open_page div");
        const left_piece = document.querySelector(".left_page");
        const hook = document.querySelector(".hook");
        const right_piece = document.querySelector(".right_page");

        const dm_btn = document.querySelector(".dm_btn");
        const dm_img = document.querySelector(".dm_btn img");

        const about_t = document.querySelector(".about_title");
        const about_c = document.querySelector(".about_contents")

        dm_btn.addEventListener("mouseover", () => {
            dm_img.setAttribute("src", "img/dm_icon_up.png");
        });

        dm_btn.addEventListener("mouseout", () => {
            dm_img.setAttribute("src", "img/dm_icon.png");
        });

        open_page.addEventListener("wheel", function openPage(e) {

            if (win_top == 0) {
                e.preventDefault();
            }

            if (e.deltaY > 0) {
                hook.style.transform = `translateY(-100%)`;

                setTimeout(function () {
                    left_piece.style.transform = `translatex(-100%)`;
                    right_piece.style.transform = `translatex(100%)`;

                    setTimeout(function () {
                        open_page.style.display = `none`;
                        show_name();
                    }, 1000)
                }, 1000)
            }

            //about_title 효과
            function show_name() {
                about_t.classList.add("fade_in");
                setTimeout(function () {
                    about_t.classList.add("about_slide");
                    about_c.classList.add("fade_in");

                    dm_btn.classList.remove("white_dm");
                    dm_btn.classList.add("black_dm");
                    dm_img.setAttribute("src", "img/dm_icon_up.png");

                    dm_btn.addEventListener("mouseover", () => {
                        dm_img.setAttribute("src", "img/dm_icon.png");
                    });

                    dm_btn.addEventListener("mouseout", () => {
                        dm_img.setAttribute("src", "img/dm_icon_up.png");
                    });

                }, 1200);
            }
        });


        const skill_wrap = document.getElementById("skill_wrap");
        const skill_wrap_wid = skill_wrap.clientWidth;
        const skill = document.querySelector(".skill");
        const skill_wid = skill.clientWidth;
        const max_mov = (skill_wid - skill_wrap_wid) * -1;
        const win_wi = window.innerWidth;
        const detail = document.querySelector(".detail");
        const detail_overlay = document.querySelector(".detail_overlay");
        const active = document.querySelectorAll(".active");
        const active_txt = document.querySelectorAll(".active_txt h4");
        //가로스크롤 최대값

        let win_top = window.scrollY;
        let move = 0;
        let mi_mo = 0;
        let li_pos = 0;


        skill_wrap.addEventListener("wheel", (e) => {

            if (move > max_mov) {
                e.preventDefault();
            }//가로 스크롤이 끝날 때까지 스크롤 기본 이벤트를 제한

            if (window.scrollY <= 0) {
                move -= e.deltaY;
                if (move < max_mov) {
                    move = max_mov
                } else if (move > 0) {
                    move = 0
                }
                skill.style.transform = `translateX(${move}px)`;
                li_upDown(move);
            }//휠값마다 skill의 가로 값을 변화

            if (move < (win_wi / 2) * -1) {
                detail.classList.add("fade_in");
                detail_overlay.style.width = `100%`;
                setTimeout(function () {
                    detail_overlay.style.left = `100%`;
                }, 500);
            } else {
                detail.classList.remove("fade_in");
                detail_overlay.style.width = `0`;
                detail_overlay.style.left = `0`;
            }

            function li_upDown(move) {
                li_pos = move;
                for (let i = 0; i < active.length; i++) {
                    if (i % 2 != 0) {
                        active[i].style.transform = `translateY(${li_pos / (i * 7)}px)`;
                    } else {
                        active[i].style.transform = `translateY(${-li_pos / (i * 7)}px)`;
                    }
                }
            }//홀수와 짝수를 구분 후 휠마다 각각 위치 값을 변환 active의 높이를 변경

            for (let i = 0; i < active_txt.length; i++) {
                let active_txt_left = active_txt[i].offsetLeft / 2 + win_wi;
                if (move < active_txt_left * -1) {
                    active_txt[i].style.opacity = `1`;
                } else {
                    active_txt[i].style = ``;
                }
            }

        });


        //세로 스크롤 이벤트

        const s_title = document.getElementsByClassName("site_title");
            const s_title_arr = [];
            let current = 0;

            s_title[current].style.opacity = 1;
            for (let j = 0; j < s_title.length; j++) {
                splitLetters(s_title[j]);
            }

            function splitLetters(s_title) {
                let content = s_title.innerHTML;
                s_title.innerHTML = '';
                let letters = [];
                for (let j = 0; j < content.length; j++) {
                    let letter = document.createElement('span');
                    letter.className = 'letter';
                    letter.innerHTML = content.charAt(j);
                    s_title.appendChild(letter);
                    letters.push(letter);
                }

               s_title_arr.push(letters);
            }


            function changeTitle() {
                let cw =s_title_arr[current];
                let nw = current == s_title.length - 1 ?s_title_arr[0] :s_title_arr[current + 1];
                for (let j = 0; j < cw.length; j++) {
                    animateLetterOut(cw, j);
                }

                for (let j = 0; j < nw.length; j++) {
                    nw[j].className = `letter behind`;
                    nw[0].parentElement.style.opacity = 1;
                    animateLetterIn(nw, j);
                }

                current = (current ==s_title_arr.length - 1) ? 0 : current + 1;
            }

            function animateLetterOut(cw, j) {
                setTimeout(function () {
                    cw[j].className = 'letter out';
                },j * 80);
            }

            function animateLetterIn(nw, j) {
                setTimeout(function () {
                    nw[j].className = 'letter in';
                }, 340 + (j * 80));
            }

            
            // if(window.scrollY == 6300){
            //     changeTitle();
            // }
            // changeTitle();
            setInterval(changeTitle, 2000);

            // const site_li = document.querySelectorAll(".site_view li");
            // const pj = document.getElementById("project");
            // const pj_top = pj.offsetTop;




            //실험용
//여기까지


        window.addEventListener("scroll", () => {


            const win_hi = window.innerHeight;

            const img_over = document.querySelector(".img_overlay");
            const img_box = document.querySelector(".imgbox");
            const middle_li = document.querySelector(".middle_line");
            const pj = document.getElementById("project");
            const pj_top = pj.offsetTop;

            let win_top = window.scrollY;
            let zoom_val = win_top - (win_hi + 200);
            let amount = 0;

            if (win_top >= win_hi) {
                img_over.style.background = "white";
                if (win_top >= win_hi + 200) {
                    zoom();
                }
            } else {
                img_over.style = "";
            }

            function zoom() {
                amount = 1 + zoom_val * 0.003;
                opa = 1 - zoom_val * 0.001;
                line = zoom_val * 0.037;

                img_box.style.transform = `scale(${amount},${amount})`;
                img_box.style.opacity = `${opa}`;

                if (opa <= 0) {
                    img_box.style = ``;
                    img_box.style.display = `none`;
                    middle_li.style.opacity = `1`;
                    if (line >= 95) {
                        line = 95;
                    } else if (line <= 5) {
                        line = 5;
                    }
                    middle_li.style.width = `${line}%`
                } else {
                    img_box.style.display = `block`;
                    middle_li.style.opacity = `0`;
                }

            }

            //프로젝트

            if (win_top >= pj_top) {
                pj.style.opacity = `1`;
            } else {
                pj.style = ``;
            }


            const site_li = document.querySelectorAll(".site_view li");
            const site_img_li = document.querySelectorAll(".site_img_box");
            const site_img = document.querySelectorAll(".site_img_box img");
            const site_txt = document.querySelectorAll(".site_txt");

            let img_zoom = 0;
            let num = 0;

            // let skew_val = 0;

            for (let i = 1; i < site_li.length; i++) {

                // if (i % 2 == 0) { //짝수인 경우
                //     num = i;
                // } else {//홀수인 경우
                //     odd = i;
                // }

                let li_top = site_li[i].offsetTop + pj_top - (win_hi * 0.38);
                //부모 요소 탑 값에 자식 요소 탑값을 더한 값

                if (win_top >= li_top - win_hi) {
                    img_zoom = li_top / (win_top - 500);
                    site_img[i - 1].style.transform = `rotate3d(1, 0, -1, 33deg) scale(${img_zoom})`;
                }

                if (win_top >= li_top) {
                    // skew_val = (li_top - win_top) * 0.0013;
                    site_img_li[i - 1].style.transform = `skew(0deg, 0deg)`;
                    site_img_li[i - 1].style.marginTop = `0`;
                    middle_li.style.width = `42%`;

                    site_txt[i - 1].style.transform = `skew(0deg, 0deg)`;
                    site_txt[i - 1].style.marginTop = `0`;
                } else {
                    site_img_li[i - 1].style = ``;
                    site_txt[i - 1].style = ``;
                }
            }

            const mail = document.querySelector("#mail");
            const mail_top = mail.offsetTop;

            if (win_top > mail_top - win_hi) {
                middle_li.style.display = `none`;
            } else {
                middle_li.style.display = `block`;
            }
        })

//여기부터
         

    </script>
</body>

</html>